<p><a href="https://semaphoreci.com/medikoo-org/es6-weak-map"><img src="https://semaphoreci.com/api/v1/medikoo-org/es6-weak-map/branches/master/shields_badge.svg" alt="Build status"></a>
<a href="https://ci.appveyor.com/project/medikoo/es6-weak-map"><img src="https://ci.appveyor.com/api/projects/status/1c73c57pg4s6lwmu?svg=true" alt="Windows status"></a>
<img src="https://img.shields.io/badge/transpilation-free-brightgreen.svg" alt="Transpilation status">
<a href="https://www.npmjs.com/package/es6-weak-map"><img src="https://img.shields.io/npm/v/es6-weak-map.svg" alt="npm version"></a></p>
<h1>es6-weak-map</h1>
<h2>WeakMap collection as specified in ECMAScript6</h2>
<p><em>Roughly inspired by Mark Miller's and Kris Kowal's <a href="https://github.com/drses/weak-map">WeakMap implementation</a></em>.</p>
<p>Differences are:</p>
<ul>
<li>Assumes compliant ES5 environment (no weird ES3 workarounds or hacks)</li>
<li>Well modularized CJS style</li>
<li>Based on one solution.</li>
</ul>
<h3>Limitations</h3>
<ul>
<li>Will fail on non extensible objects provided as keys</li>
</ul>
<h3>Installation</h3>
<pre><code>$ npm install es6-weak-map
</code></pre>
<p>To port it to Browser or any other (non CJS) environment, use your favorite CJS bundler. No favorite yet? Try: <a href="http://browserify.org/">Browserify</a>, <a href="https://github.com/medikoo/modules-webmake">Webmake</a> or <a href="http://webpack.github.io/">Webpack</a></p>
<h3>Usage</h3>
<p>If you want to make sure your environment implements <code>WeakMap</code>, do:</p>
<pre><code class="language-javascript">require(&quot;es6-weak-map/implement&quot;);
</code></pre>
<p>If you'd like to use native version when it exists and fallback to polyfill if it doesn't, but without implementing <code>WeakMap</code> on global scope, do:</p>
<pre><code class="language-javascript">var WeakMap = require(&quot;es6-weak-map&quot;);
</code></pre>
<p>If you strictly want to use polyfill even if native <code>WeakMap</code> exists, do:</p>
<pre><code class="language-javascript">var WeakMap = require(&quot;es6-weak-map/polyfill&quot;);
</code></pre>
<h4>API</h4>
<p>Best is to refer to <a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-weakmap-objects">specification</a>. Still if you want quick look, follow example:</p>
<pre><code class="language-javascript">var WeakMap = require(&quot;es6-weak-map&quot;);

var map = new WeakMap();
var obj = {};

map.set(obj, &quot;foo&quot;); // map
map.get(obj); // 'foo'
map.has(obj); // true
map.delete(obj); // true
map.get(obj); // undefined
map.has(obj); // false
map.set(obj, &quot;bar&quot;); // map
map.has(obj); // false
</code></pre>
<h2>Tests</h2>
<pre><code>$ npm test
</code></pre>
