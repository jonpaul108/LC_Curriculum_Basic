<p><a href="https://semaphoreci.com/medikoo-org/type"><img src="https://semaphoreci.com/api/v1/medikoo-org/type/branches/master/shields_badge.svg" alt="*nix build status"></a>
<a href="https://ci.appveyor.com/api/project/medikoo/type"><img src="https://ci.appveyor.com/api/projects/status/8nrtluuwsb5k9l8d?svg=true" alt="Windows build status"></a>
<a href="https://codecov.io/gh/medikoo/type"><img src="https://img.shields.io/codecov/c/github/medikoo/type.svg" alt="Tests coverage"></a>
<a href="https://www.npmjs.com/package/type"><img src="https://img.shields.io/npm/v/type.svg" alt="npm version"></a></p>
<h1>type</h1>
<h2>Runtime validation and processing of JavaScript types</h2>
<ul>
<li>Respects language nature and acknowledges its quirks</li>
<li>Allows coercion in restricted forms (rejects clearly invalid input, normalizes permissible type deviations)</li>
<li>No transpilation implied, written to work in all ECMAScript 3+ engines</li>
</ul>
<h2>Use case</h2>
<p>Validate arguments input in public API endpoints.</p>
<p><em>For validation of more sophisticated input structures (as deeply nested configuration objects) it's recommended to consider more powerful schema based utlities (as <a href="https://ajv.js.org/">AJV</a> or <a href="https://hapi.dev/family/joi/">@hapi/joi</a>)</em></p>
<h3>Example usage</h3>
<p>Bulletproof input arguments normalization and validation:</p>
<pre><code class="language-javascript">const ensureString        = require('type/string/ensure')
    , ensureDate          = require('type/date/ensure')
    , ensureNaturalNumber = require('type/natural-number/ensure')
    , isObject            = require('type/object/is');

module.exports = (path, options = { min: 0 }) {
  path = ensureString(path, { errorMessage: &quot;%v is not a path&quot; });
  if (!isObject(options)) options = {};
  const min = ensureNaturalNumber(options.min, { default: 0 })
      , max = ensureNaturalNumber(options.max, { isOptional: true })
      , startTime = ensureDate(options.startTime, { isOptional: true });

  // ...logic
};
</code></pre>
<h3>Installation</h3>
<pre><code class="language-bash">npm install type
</code></pre>
<h2>Utilities</h2>
<p>Aside of general <a href="docs/ensure.md"><code>ensure</code></a> validation util, following kind of utilities for recognized JavaScript types are provided:</p>
<h5><code>*/coerce</code></h5>
<p>Restricted coercion into primitive type. Returns coerced value or <code>null</code> if value is not coercible per rules.</p>
<h5><code>*/is</code></h5>
<p>Object type/kind confirmation, returns either <code>true</code> or <code>false</code>.</p>
<h5><code>*/ensure</code></h5>
<p>Value validation. Returns input value (in primitive cases possibly coerced) or if value doesn't meet the constraints throws <code>TypeError</code> .</p>
<p>Each <code>*/ensure</code> utility, accepts following options (eventually passed with second argument):</p>
<ul>
<li><code>isOptional</code> - Makes <code>null</code> or <code>undefined</code> accepted as valid value. In such case instead of <code>TypeError</code> being thrown, <code>null</code> is returned.</li>
<li><code>default</code> - A value to be returned if <code>null</code> or <code>undefined</code> is passed as an input value.</li>
<li><code>errorMessage</code> - Custom error message. Following placeholders can be used:
<ul>
<li><code>%v</code> - To be replaced with short string representation of invalid value</li>
<li><code>%n</code> - To be replaced with meaninfgul name (to be passed with <code>name</code> option) of validated value. Not effective if <code>name</code> option is not present</li>
</ul>
</li>
<li><code>errorCode</code> - Eventual error code to be exposed on <code>.code</code> error property</li>
<li><code>name</code> - Meaningful name for validated value, to be used in error message, assuming it contains <code>%n</code> placeholder</li>
<li><code>Error</code> - Alternative error constructor to be used (defaults to <code>TypeError</code>)</li>
</ul>
<h3>Index</h3>
<h4>General utils:</h4>
<ul>
<li><a href="docs/ensure.md"><code>ensure</code></a></li>
</ul>
<h4>Type specific utils:</h4>
<ul>
<li><strong>Value</strong>
<ul>
<li><a href="docs/value.md#valueis"><code>value/is</code></a></li>
<li><a href="docs/value.md#valueensure"><code>value/ensure</code></a></li>
</ul>
</li>
<li><strong>Object</strong>
<ul>
<li><a href="docs/object.md#objectis"><code>object/is</code></a></li>
<li><a href="docs/object.md#objectensure"><code>object/ensure</code></a></li>
<li><strong>Plain Object</strong>
<ul>
<li><a href="docs/plain-object.md#plain-objectis"><code>plain-object/is</code></a></li>
<li><a href="docs/plain-object.md#plain-objectensure"><code>plain-object/ensure</code></a></li>
</ul>
</li>
</ul>
</li>
<li><strong>String</strong>
<ul>
<li><a href="docs/string.md#stringcoerce"><code>string/coerce</code></a></li>
<li><a href="docs/string.md#stringensure"><code>string/ensure</code></a></li>
</ul>
</li>
<li><strong>Number</strong>
<ul>
<li><a href="docs/number.md#numbercoerce"><code>number/coerce</code></a></li>
<li><a href="docs/number.md#numberensure"><code>number/ensure</code></a></li>
<li><strong>Finite Number</strong>
<ul>
<li><a href="docs/finite.md#finitecoerce"><code>finite/coerce</code></a></li>
<li><a href="docs/finite.md#finiteensure"><code>finite/ensure</code></a></li>
</ul>
</li>
<li><strong>Integer Number</strong>
<ul>
<li><a href="docs/integer.md#integercoerce"><code>integer/coerce</code></a></li>
<li><a href="docs/integer.md#integerensure"><code>integer/ensure</code></a></li>
</ul>
</li>
<li><strong>Safe Integer Number</strong>
<ul>
<li><a href="docs/safe-integer.md#safe-integercoerce"><code>safe-integer/coerce</code></a></li>
<li><a href="docs/.md#safe-integerensure"><code>safe-integer/ensure</code></a></li>
</ul>
</li>
<li><strong>Natural Number</strong>
<ul>
<li><a href="docs/natural-number.md#natural-numbercoerce"><code>natural-number/coerce</code></a></li>
<li><a href="docs/natural-number.md#natural-numberensure"><code>natural-number/ensure</code></a></li>
</ul>
</li>
<li><strong>Array Length</strong>
<ul>
<li><a href="docs/array-length.md#array-lengthcoerce"><code>array-length/coerce</code></a></li>
<li><a href="docs/array-length.md#array-lengthensure"><code>array-length/ensure</code></a></li>
</ul>
</li>
<li><strong>Time Value</strong>
<ul>
<li><a href="docs/time-value.md#time-valuecoerce"><code>time-value/coerce</code></a></li>
<li><a href="docs/time-value.md#time-valueensure"><code>time-value/ensure</code></a></li>
</ul>
</li>
</ul>
</li>
<li><strong>Array Like</strong>
<ul>
<li><a href="docs/array-like.md#array-likeis"><code>array-like/is</code></a></li>
<li><a href="docs/array-like.md#array-likeensure"><code>array-like/ensure</code></a></li>
<li><strong>Array</strong>
<ul>
<li><a href="docs/array.md#arrayis"><code>array/is</code></a></li>
<li><a href="docs/array.md#arrayensure"><code>array/ensure</code></a></li>
</ul>
</li>
</ul>
</li>
<li><strong>Iterable</strong>
<ul>
<li><a href="docs/iterable.md#iterableis"><code>iterable/is</code></a></li>
<li><a href="docs/iterable.md#iterableensure"><code>iterable/ensure</code></a></li>
</ul>
</li>
<li><strong>Set</strong>
<ul>
<li><a href="docs/set.md#setis"><code>set/is</code></a></li>
<li><a href="docs/set.md#setensure"><code>set/ensure</code></a></li>
</ul>
</li>
<li><strong>Map</strong>
<ul>
<li><a href="docs/map.md#mapis"><code>map/is</code></a></li>
<li><a href="docs/map.md#mapensure"><code>map/ensure</code></a></li>
</ul>
</li>
<li><strong>Date</strong>
<ul>
<li><a href="docs/date.md#dateis"><code>date/is</code></a></li>
<li><a href="docs/date.md#dateensure"><code>date/ensure</code></a></li>
</ul>
</li>
<li><strong>Function</strong>
<ul>
<li><a href="docs/function.md#functionis"><code>function/is</code></a></li>
<li><a href="docs/function.md#functionensure"><code>function/ensure</code></a></li>
<li><strong>Plain Function</strong>
<ul>
<li><a href="docs/plain-function.md#plain-functionis"><code>plain-function/is</code></a></li>
<li><a href="docs/plain-function.md#plain-functionensure"><code>plain-function/ensure</code></a></li>
</ul>
</li>
</ul>
</li>
<li><strong>Reg Exp</strong>
<ul>
<li><a href="docs/reg-exp.md#reg-expis"><code>reg-exp/is</code></a></li>
<li><a href="docs/.md#reg-expensure"><code>reg-exp/ensure</code></a></li>
</ul>
</li>
<li><strong>Thenable</strong>
<ul>
<li><a href="docs/thenable.md#thenableis"><code>thenable/is</code></a></li>
<li><a href="docs/thenable.md#thenableensure"><code>thenable/ensure</code></a></li>
<li><strong>Promise</strong>
<ul>
<li><a href="docs/promise.md#promiseis"><code>promise/is</code></a></li>
<li><a href="docs/promise.md#promiseensure"><code>promise/ensure</code></a></li>
</ul>
</li>
</ul>
</li>
<li><strong>Error</strong>
<ul>
<li><a href="docs/error.md#erroris"><code>error/is</code></a></li>
<li><a href="docs/error.md#errorensure"><code>error/ensure</code></a></li>
</ul>
</li>
<li><strong>Prototype</strong>
<ul>
<li><a href="docs/prototype.md#prototypeis"><code>prototype/is</code></a></li>
</ul>
</li>
</ul>
<h3>Tests</h3>
<pre><code>$ npm test
</code></pre>
