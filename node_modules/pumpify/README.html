<h1>pumpify</h1>
<p>Combine an array of streams into a single duplex stream using <a href="https://github.com/mafintosh/pump">pump</a> and <a href="https://github.com/mafintosh/duplexify">duplexify</a>.
If one of the streams closes/errors all streams in the pipeline will be destroyed.</p>
<pre><code>npm install pumpify
</code></pre>
<p><a href="http://travis-ci.org/mafintosh/pumpify"><img src="http://img.shields.io/travis/mafintosh/pumpify.svg?style=flat" alt="build status"></a></p>
<h2>Usage</h2>
<p>Pass the streams you want to pipe together to pumpify <code>pipeline = pumpify(s1, s2, s3, ...)</code>.
<code>pipeline</code> is a duplex stream that writes to the first streams and reads from the last one.
Streams are piped together using <a href="https://github.com/mafintosh/pump">pump</a> so if one of them closes
all streams will be destroyed.</p>
<pre><code class="language-js">var pumpify = require('pumpify')
var tar = require('tar-fs')
var zlib = require('zlib')
var fs = require('fs')

var untar = pumpify(zlib.createGunzip(), tar.extract('output-folder'))
// you can also pass an array instead
// var untar = pumpify([zlib.createGunzip(), tar.extract('output-folder')])

fs.createReadStream('some-gzipped-tarball.tgz').pipe(untar)
</code></pre>
<p>If you are pumping object streams together use <code>pipeline = pumpify.obj(s1, s2, ...)</code>.
Call <code>pipeline.destroy()</code> to destroy the pipeline (including the streams passed to pumpify).</p>
<h3>Using <code>setPipeline(s1, s2, ...)</code></h3>
<p>Similar to <a href="https://github.com/mafintosh/duplexify">duplexify</a> you can also define the pipeline asynchronously using <code>setPipeline(s1, s2, ...)</code></p>
<pre><code class="language-js">var untar = pumpify()

setTimeout(function() {
  // will start draining the input now
  untar.setPipeline(zlib.createGunzip(), tar.extract('output-folder'))
}, 1000)

fs.createReadStream('some-gzipped-tarball.tgz').pipe(untar)
</code></pre>
<h2>License</h2>
<p>MIT</p>
<h2>Related</h2>
<p><code>pumpify</code> is part of the <a href="https://github.com/maxogden/mississippi">mississippi stream utility collection</a> which includes more useful stream modules similar to this one.</p>
