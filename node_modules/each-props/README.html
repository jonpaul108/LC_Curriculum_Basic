<h1><a href="https://github.com/sttk/each-props/">each-props</a> <a href="https://www.npmjs.org/package/each-props/"><img src="https://img.shields.io/badge/npm-v1.3.2-blue.svg" alt="NPM"></a> <a href="https://opensource.org/licenses.MIT"><img src="https://img.shields.io/badge/license-MIT-green.svg" alt="MIT License"></a> <a href="https://travis-ci.org/sttk/each-props"><img src="https://travis-ci.org/sttk/each-props.svg?branch=master" alt="Build Status"></a> <a href="https://ci.appveyor.com/project/sttk/each-props"><img src="https://ci.appveyor.com/api/projects/status/github/sttk/each-props?branch=master&amp;svg=true" alt="Build Status"></a> <a href="https://coveralls.io/github/sttk/each-props?branch=master"><img src="https://coveralls.io/repos/github/sttk/each-props/badge.svg?branch=master" alt="Coverage Status"></a></h1>
<p>Processes each properties of an object deeply.</p>
<h2>Install</h2>
<p>To install from npm:</p>
<pre><code class="language-sh">$ npm i each-props --save
</code></pre>
<h2>Load this module</h2>
<p>For Node.js:</p>
<pre><code class="language-js">const eachProps = require('each-props');
</code></pre>
<p>For Web browser:</p>
<pre><code class="language-html">&lt;script src=&quot;each-props.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<h2>Usage</h2>
<p>Apply a function to all (non plain object) properties.</p>
<pre><code class="language-js">var obj = { a: 1, b: { c: 'CCC', d: { e: 'EEE' } } };

eachProps(obj, function(value, keyChain, nodeInfo) {
  if (keyChain === 'a') {
    nodeInfo.parent['a'] = value * 2;
  } else if (keyChain === 'b.c') {
    nodeInfo.parent['c'] = value.toLowerCase();
  } else if (keyChain === 'b.d') {
    return true; // stop to dig
  } else if (keyChain === 'b.d.e') {
    nodeInfo.parent['e'] = value.toLowerCase();
  }
});

console.log(obj);
// =&gt; { a: 2, b: { c: 'ccc', d: { e: 'EEE' } } };
</code></pre>
<h2>API</h2>
<h3>&lt;u&gt;eachProps(obj, fn [, opts]) : void&lt;/u&gt;</h3>
<p>Executes the <em>fn</em> function for all properties.</p>
<h4>Parameters:</h4>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:center">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><em>obj</em></td>
<td style="text-align:center">object</td>
<td style="text-align:left">A plain object to be treated.</td>
</tr>
<tr>
<td style="text-align:left"><em>fn</em></td>
<td style="text-align:center">function</td>
<td style="text-align:left">A function to operate each properties.</td>
</tr>
<tr>
<td style="text-align:left"><em>opts</em></td>
<td style="text-align:center">object</td>
<td style="text-align:left">An object to pass any data to each properties.</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p><strong>API of <em>fn</em> function</strong></p>
<h4>&lt;u&gt;fn(value, keyChain, nodeInfo) : boolean&lt;/u&gt;</h4>
<p>This function is applied to all properties in an object.</p>
<h5>Parameters:</h5>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:center">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><em>value</em></td>
<td style="text-align:center">any</td>
<td style="text-align:left">A property value.</td>
</tr>
<tr>
<td style="text-align:left"><em>keyChain</em></td>
<td style="text-align:center">string</td>
<td style="text-align:left">A string concatenating the hierarchical keys with dots.</td>
</tr>
<tr>
<td style="text-align:left"><em>nodeInfo</em></td>
<td style="text-align:center">object</td>
<td style="text-align:left">An object which contains node informations (See <a href="#nodeinfo">below</a>).</td>
</tr>
</tbody>
</table>
<h5>Returns:</h5>
<p>True, if stops digging child properties.</p>
<p><strong>Type:</strong> boolean</p>
</li>
</ul>
<p>&lt;a name=&quot;nodeinfo&quot;&gt;&lt;/a&gt;</p>
<ul>
<li>
<p><strong>Properties of &lt;i&gt;nodeInfo&lt;/i&gt;</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Properties</th>
<th style="text-align:center">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><em>name</em></td>
<td style="text-align:center">string</td>
<td style="text-align:left">The property name of this node.</td>
</tr>
<tr>
<td style="text-align:left"><em>index</em></td>
<td style="text-align:center">number</td>
<td style="text-align:left">The index of the property among the sibling properties.</td>
</tr>
<tr>
<td style="text-align:left"><em>count</em></td>
<td style="text-align:center">number</td>
<td style="text-align:left">The count of the sibling properties.</td>
</tr>
<tr>
<td style="text-align:left"><em>depth</em></td>
<td style="text-align:center">number</td>
<td style="text-align:left">The depth of the property.</td>
</tr>
<tr>
<td style="text-align:left"><em>parent</em></td>
<td style="text-align:center">object</td>
<td style="text-align:left">The parent node of the property.</td>
</tr>
<tr>
<td style="text-align:left"><em>sort</em></td>
<td style="text-align:center">function</td>
<td style="text-align:left">A sort function which orders the child properties. This function is inherited from <em>opts</em>, if be specified.</td>
</tr>
</tbody>
</table>
<p>... and any properties inherited from <em>opts</em>.</p>
</li>
<li>
<p><strong>Properties of &lt;i&gt;opts&lt;/i&gt;</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Properties</th>
<th style="text-align:center">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><em>sort</em></td>
<td style="text-align:center">function</td>
<td style="text-align:left">A sort function which orders the same level properties. (Optional)</td>
</tr>
</tbody>
</table>
<p>... and any properties you want to pass to each node.</p>
</li>
</ul>
<h2>License</h2>
<p>Copyright (C) 2016-2018 Takayuki Sato</p>
<p>This program is free software under <a href="https://opensource.org/licenses.MIT">MIT</a> License.
See the file LICENSE in this distribution for more details.</p>
