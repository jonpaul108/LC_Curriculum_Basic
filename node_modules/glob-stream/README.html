<p>&lt;p align=&quot;center&quot;&gt;
&lt;a href=&quot;http://gulpjs.com&quot;&gt;
&lt;img height=&quot;257&quot; width=&quot;114&quot; src=&quot;https://raw.githubusercontent.com/gulpjs/artwork/master/gulp-2x.png&quot;&gt;
&lt;/a&gt;
&lt;/p&gt;</p>
<h1>glob-stream</h1>
<p><a href="https://www.npmjs.com/package/glob-stream"><img src="http://img.shields.io/npm/v/glob-stream.svg" alt="NPM version"></a> <a href="https://www.npmjs.com/package/glob-stream"><img src="http://img.shields.io/npm/dm/glob-stream.svg" alt="Downloads"></a> <a href="https://travis-ci.org/gulpjs/glob-stream"><img src="http://img.shields.io/travis/gulpjs/glob-stream.svg?label=travis-ci" alt="Build Status"></a> <a href="https://ci.appveyor.com/project/gulpjs/glob-stream"><img src="https://img.shields.io/appveyor/ci/gulpjs/glob-stream.svg?label=appveyor" alt="AppVeyor Build Status"></a> <a href="https://coveralls.io/r/gulpjs/glob-stream"><img src="http://img.shields.io/coveralls/gulpjs/glob-stream.svg" alt="Coveralls Status"></a> <a href="https://gitter.im/gulpjs/gulp"><img src="https://badges.gitter.im/gulpjs/gulp.svg" alt="Gitter chat"></a></p>
<p>A <a href="https://nodejs.org/api/stream.html#stream_readable_streams">Readable Stream</a> interface over <a href="https://github.com/isaacs/node-glob">node-glob</a>.</p>
<h2>Usage</h2>
<pre><code class="language-javascript">var gs = require('glob-stream');

var readable = gs('./files/**/*.coffee', { /* options */ });

var writable = /* your WriteableStream */

readable.pipe(writable);
</code></pre>
<p>You can pass any combination of glob strings. One caveat is that you cannot <strong>only</strong> pass a negative glob, you must give it at least one positive glob so it knows where to start. If given a non-glob path (also referred to as a singular glob), only one file will be emitted. If given a singular glob and no files match, an error is emitted (see also <a href="#optionsallowempty"><code>options.allowEmpty</code></a>).</p>
<h2>API</h2>
<h3><code>globStream(globs, options)</code></h3>
<p>Takes a glob string or an array of glob strings as the first argument and an options object as the second. Returns a stream of objects that contain <code>cwd</code>, <code>base</code> and <code>path</code> properties.</p>
<h4>Options</h4>
<h5><code>options.allowEmpty</code></h5>
<p>Whether or not to error upon an empty singular glob.</p>
<p>Type: <code>Boolean</code></p>
<p>Default: <code>false</code> (error upon no match)</p>
<h5><code>options.dot</code></h5>
<p>Whether or not to treat dotfiles as regular files. This is passed through to <a href="https://github.com/isaacs/node-glob">node-glob</a>.</p>
<p>Type: <code>Boolean</code></p>
<p>Default: <code>false</code></p>
<h5><code>options.silent</code></h5>
<p>Whether or not to suppress warnings on stderr from <a href="https://github.com/isaacs/node-glob">node-glob</a>. This is passed through to <a href="https://github.com/isaacs/node-glob">node-glob</a>.</p>
<p>Type: <code>Boolean</code></p>
<p>Default: <code>true</code></p>
<h5><code>options.cwd</code></h5>
<p>The current working directory that the glob is resolved against.</p>
<p>Type: <code>String</code></p>
<p>Default: <code>process.cwd()</code></p>
<h5><code>options.root</code></h5>
<p>The root path that the glob is resolved against.</p>
<p><strong>Note: This is never passed to <a href="https://github.com/isaacs/node-glob">node-glob</a> because it is pre-resolved against your paths.</strong></p>
<p>Type: <code>String</code></p>
<p>Default: <code>undefined</code> (use the filesystem root)</p>
<h5><code>options.base</code></h5>
<p>The absolute segment of the glob path that isn't a glob. This value is attached to each glob object and is useful for relative pathing.</p>
<p>Type: <code>String</code></p>
<p>Default: The absolute path segement before a glob starts (see <a href="https://github.com/es128/glob-parent">glob-parent</a>)</p>
<h5><code>options.cwdbase</code></h5>
<p>Whether or not the <code>cwd</code> and <code>base</code> should be the same.</p>
<p>Type: <code>Boolean</code></p>
<p>Default: <code>false</code></p>
<h5><code>options.uniqueBy</code></h5>
<p>Filters stream to remove duplicates based on the string property name or the result of function. When using a function, the function receives the streamed data (objects containing <code>cwd</code>, <code>base</code>, <code>path</code> properties) to compare against.</p>
<p>Type: <code>String</code> or <code>Function</code></p>
<p>Default: <code>'path'</code></p>
<h5>other</h5>
<p>Any glob-related options are documented in <a href="https://github.com/isaacs/node-glob">node-glob</a>. Those options are forwarded verbatim, with the exception of <code>root</code> and <code>ignore</code>. <code>root</code> is pre-resolved and <code>ignore</code> is joined with all negative globs.</p>
<h4>Globbing &amp; Negation</h4>
<pre><code class="language-js">var stream = gs(['./**/*.js', '!./node_modules/**/*']);
</code></pre>
<p>Globs are executed in order, so negations should follow positive globs. For example:</p>
<p>The following would <strong>not</strong> exclude any files:</p>
<pre><code class="language-js">gs(['!b*.js', '*.js'])
</code></pre>
<p>However, this would exclude all files that started with <code>b</code>:</p>
<pre><code class="language-js">gs(['*.js', '!b*.js'])
</code></pre>
<h2>License</h2>
<p>MIT</p>
